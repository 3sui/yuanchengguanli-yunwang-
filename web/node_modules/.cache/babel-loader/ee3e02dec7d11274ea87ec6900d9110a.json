{"remainingRequest":"D:\\git\\hualiyeya\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!D:\\git\\hualiyeya\\web\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js??ref--0-0!D:\\git\\hualiyeya\\web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!D:\\git\\hualiyeya\\web\\src\\components\\view\\MaintenanceDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\git\\hualiyeya\\web\\src\\components\\view\\MaintenanceDetails.vue","mtime":1591579454592},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'MaintenanceDetails',\n  data: function data() {\n    return {\n      // tableData: {},\n      url: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg',\n      srcList: ['https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg', 'https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg', 'https://fuss10.elemecdn.com/1/8e/aeffeb4de74e2fde4bd74fc7b4486jpeg.jpeg'],\n      deviceDetail: {},\n      form: {},\n      faultType: [],\n      choosefault: [],\n      editEnable: true,\n      saveEnable: true\n    };\n  },\n  components: {},\n  computed: {},\n  created: function created() {\n    this.getDeviceIDAndInfo();\n    this.getFaultType();\n  },\n  methods: {\n    //获取故障类型、故障现象选项\n    getFaultType: function getFaultType() {\n      var _this = this;\n\n      this.$axios.get('/FaultTypeChoose').then(function (res) {\n        console.log(res.data);\n        _this.faultType = res.data;\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    //处理选择故障类型和故障现象\n    handelchoosefault: function handelchoosefault() {\n      // console.log(1);\n      for (var i = 0; i < this.faultType.length; i++) {\n        if (this.faultType[i].fault_type === this.form.type) {\n          this.choosefault = this.faultType[i].fault_phenomenon;\n        }\n      }\n    },\n    getDeviceIDAndInfo: function getDeviceIDAndInfo() {\n      var _this2 = this;\n\n      // window.console.log(this.$route.query.id);\n      axios({\n        method: 'get',\n        url: '/RepairInfo',\n        params: {\n          id: this.$route.query.id\n        }\n      }).then(function (res) {\n        _this2.deviceDetail = res.data[0];\n        _this2.form = res.data[0];\n      }).catch();\n    },\n    //提交\n    handelEdit: function handelEdit() {\n      this.editEnable = false;\n      this.saveEnable = false;\n    },\n    //保存\n    onSubmit: function onSubmit() {\n      var _this3 = this;\n\n      var query = {\n        id: this.form.id,\n        type: this.form.type,\n        phenomenon: this.form.phenomenon,\n        cause: this.form.cause,\n        methods: this.form.methods,\n        cost: this.form.cost,\n        repair_person: this.form.repair_person,\n        repair_person_phone: this.form.repair_person_phone,\n        more: this.form.more\n      };\n      this.$axios.post('UpdateRepair', query).then(function (res) {\n        if (res) {\n          _this3.$message.success('保存成功');\n\n          _this3.$router.go(-1);\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    //取消\n    Cancel: function Cancel() {\n      // console.log('submit!');\n      this.$router.go(-1); // this.deviceDetail={}\n      // this.form={}\n    }\n  }\n};",{"version":3,"sources":["MaintenanceDetails.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Author: your name\r\n * @Date: 2020-05-06 10:56:10\r\n * @LastEditTime: 2020-05-11 17:24:08\r\n * @LastEditors: Please set LastEditors\r\n * @Description: 维修记录\r\n * @FilePath: \\vue-manage-system\\src\\components\\view\\ProductDetails.vue\r\n -->\r\n<!--  -->\r\n<template>\r\n    <div class>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-lx-copy\"></i> 设备档案\r\n                </el-breadcrumb-item>\r\n                <el-breadcrumb-item>维修详情</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <div class=\"container\">\r\n            <!-- <el-button type=\"primary\" class=\"handle-del mr10 mb-30\" @click=\"$router.go(-1)\">返回</el-button>\r\n            <el-button type=\"primary\" class=\"handle-del mr10 mb-30\" @click=\"handelEdit\">编辑</el-button>-->\r\n            <div class=\"plugins-tips\">设备维修详情</div>\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"6\">\r\n                    <div class=\"demo-image__preview\">\r\n                        <el-image\r\n                            style=\"width: 320px; height: 160px\"\r\n                            :src=\"url\"\r\n                            :preview-src-list=\"srcList\"\r\n                        ></el-image>\r\n                    </div>\r\n\r\n                    <div class=\"keyvalue\">客户名称：{{deviceDetail.enterprise_name}}</div>\r\n                    <div class=\"keyvalue\">设备ID：{{deviceDetail.eq}}</div>\r\n                    <div class=\"keyvalue\">设备种类：{{deviceDetail.typename}}</div>\r\n                    <div class=\"keyvalue\">设备名称：{{deviceDetail.device_name}}</div>\r\n                    <div class=\"keyvalue\">设备厂家：{{deviceDetail.device_supplier}}</div>\r\n                    <div class=\"keyvalue\">设备型号：{{deviceDetail.device_model}}</div>\r\n                    <div class=\"keyvalue\">安装地址：{{deviceDetail.address}}</div>\r\n                </el-col>\r\n                <el-col :span=\"14\" :offset=\"1\">\r\n                    <el-form\r\n                        ref=\"form\"\r\n                        :model=\"form\"\r\n                        label-width=\"80px\"\r\n                        size=\"mini\"\r\n                        :disabled=\"editEnable\"\r\n                    >\r\n                        <el-form-item label=\"故障类型\">\r\n                            <el-select\r\n                                v-model=\"form.type\"\r\n                                placeholder=\"请选择故障类型\"\r\n                                @change=\"handelchoosefault\"\r\n                            >\r\n                                <el-option\r\n                                    v-for=\"(type,index) in faultType\"\r\n                                    :label=\"type.fault_type\"\r\n                                    :value=\"type.fault_type\"\r\n                                ></el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"故障现象\">\r\n                            <el-select v-model=\"form.phenomenon\" placeholder=\"请选择故障现象\">\r\n                                <el-option\r\n                                    v-for=\"phenomenon in choosefault\"\r\n                                    :label=\"phenomenon\"\r\n                                    :value=\"phenomenon\"\r\n                                ></el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n\r\n                        <el-form-item label=\"原因\" :prop=\"cause\">\r\n                            <el-input v-model=\"form.cause\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"排除方法\" :prop=\"methods\">\r\n                            <el-input v-model=\"form.methods\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"费用\" :prop=\"cost\">\r\n                            <el-input v-model=\"form.cost\" type=\"text\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"维修人\" :prop=\"repair_person\">\r\n                            <el-input v-model=\"form.repair_person\" type=\"text\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"联系电话\" :prop=\"repair_person_phone\">\r\n                            <el-input v-model=\"form.repair_person_phone\" type=\"text\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"备注\" :prop=\"more\">\r\n                            <el-input v-model=\"form.more\" type=\"text\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"维修时间\" :prop=\"created_time\">\r\n                            <el-input v-model=\"form.created_time\" type=\"text\" disabled></el-input>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                    <el-row :gutter=\"20\">\r\n                        <el-col :offset=\"6\" :span=\"3\">\r\n                            <el-button type=\"primary\" size=\"meduim\" @click=\"handelEdit\">编辑</el-button>\r\n                        </el-col>\r\n                        <el-col :offset=\"2\" :span=\"3\">\r\n                            <el-button\r\n                                type=\"primary\"\r\n                                size=\"meduim\"\r\n                                @click=\"onSubmit\"\r\n                                :disabled=\"saveEnable\"\r\n                            >保存</el-button>\r\n                        </el-col>\r\n                        <el-col :offset=\"2\" :span=\"3\">\r\n                            <el-button type=\"primary\" size=\"meduim\" @click=\"Cancel\">取消</el-button>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'MaintenanceDetails',\r\n    data() {\r\n        return {\r\n            // tableData: {},\r\n            url: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg',\r\n            srcList: [\r\n                'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg',\r\n                'https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg',\r\n                'https://fuss10.elemecdn.com/1/8e/aeffeb4de74e2fde4bd74fc7b4486jpeg.jpeg'\r\n            ],\r\n            deviceDetail: {},\r\n\r\n            form: {},\r\n            faultType: [],\r\n            choosefault: [],\r\n            editEnable: true,\r\n            saveEnable: true\r\n        };\r\n    },\r\n\r\n    components: {},\r\n\r\n    computed: {},\r\n    created() {\r\n        this.getDeviceIDAndInfo();\r\n        this.getFaultType();\r\n    },\r\n    methods: {\r\n        //获取故障类型、故障现象选项\r\n        getFaultType() {\r\n            this.$axios\r\n                .get('/FaultTypeChoose')\r\n                .then(res => {\r\n                    console.log(res.data);\r\n                    this.faultType = res.data;\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n        },\r\n\r\n        //处理选择故障类型和故障现象\r\n        handelchoosefault() {\r\n            // console.log(1);\r\n            for (var i = 0; i < this.faultType.length; i++) {\r\n                if (this.faultType[i].fault_type === this.form.type) {\r\n                    this.choosefault = this.faultType[i].fault_phenomenon;\r\n                }\r\n            }\r\n        },\r\n        getDeviceIDAndInfo() {\r\n            // window.console.log(this.$route.query.id);\r\n            axios({\r\n                method: 'get',\r\n                url: '/RepairInfo',\r\n                params: {\r\n                    id: this.$route.query.id\r\n                }\r\n            })\r\n                .then(res => {\r\n                    this.deviceDetail = res.data[0];\r\n                    this.form = res.data[0];\r\n                })\r\n                .catch();\r\n        },\r\n        //提交\r\n        handelEdit() {\r\n            this.editEnable = false;\r\n            this.saveEnable = false;\r\n        },\r\n\r\n        //保存\r\n        onSubmit() {\r\n            let query = {\r\n                id: this.form.id,\r\n                type: this.form.type,\r\n                phenomenon: this.form.phenomenon,\r\n                cause: this.form.cause,\r\n                methods: this.form.methods,\r\n                cost:this.form.cost,\r\n                repair_person: this.form.repair_person,\r\n                repair_person_phone: this.form.repair_person_phone,\r\n                more: this.form.more,\r\n            };\r\n            this.$axios.post('UpdateRepair',query)\r\n            .then(res=>{\r\n                if(res){\r\n                    this.$message.success('保存成功')\r\n                    this.$router.go(-1);\r\n                }    \r\n            })\r\n            \r\n            .catch(err=>{\r\n                console.log(err);\r\n                \r\n            })\r\n            \r\n        },\r\n\r\n        //取消\r\n        Cancel() {\r\n            // console.log('submit!');\r\n            this.$router.go(-1);\r\n            // this.deviceDetail={}\r\n\r\n            // this.form={}\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style scoped>\r\nth {\r\n    background-color: #eef1f6;\r\n    padding: 5px 10px;\r\n}\r\ntd {\r\n    padding: 5px 10px;\r\n}\r\np {\r\n    line-height: 25px;\r\n}\r\n.ml-50 {\r\n    margin-left: 50px;\r\n}\r\n.mb-30 {\r\n    margin-bottom: 30px;\r\n}\r\n.mt-10 {\r\n    margin-top: 10px;\r\n}\r\n.annex img {\r\n    margin: 10px 10px;\r\n    vertical-align: middle;\r\n}\r\n\r\n.plugins-tips {\r\n    font-size: 16px;\r\n    margin: 10px auto;\r\n}\r\n.keyvalue {\r\n    font-size: 12px;\r\n    text-align: left;\r\n    width: 100%;\r\n    font-size: 14px;\r\n    line-height: 40px;\r\n    height: 40px;\r\n    margin-top: 5px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n}\r\n.buttonbox {\r\n    /* height: 40px; */\r\n    margin: 20px auto;\r\n}\r\n</style>"],"sourceRoot":"src/components/view"}]}
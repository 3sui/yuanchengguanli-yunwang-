{"remainingRequest":"D:\\git\\hualiyeya\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!D:\\git\\hualiyeya\\web\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js??ref--0-0!D:\\git\\hualiyeya\\web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!D:\\git\\hualiyeya\\web\\src\\components\\view\\ServiceBooklet.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\git\\hualiyeya\\web\\src\\components\\view\\ServiceBooklet.vue","mtime":1590980248021},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'ServiceBooklet',\n  data: function data() {\n    return {\n      editVisible: false,\n      activeName: 0,\n      tableData: [],\n      form: {},\n      form2: {},\n      editVisible2: false\n    };\n  },\n  components: {},\n  computed: {},\n  created: function created() {\n    this.fetchBooklet();\n  },\n  methods: {\n    fetchBooklet: function fetchBooklet() {\n      var _this = this;\n\n      axios({\n        method: 'get',\n        url: '/fetchBooklet'\n      }).then(function (result) {\n        window.console.log(result.data);\n        var arr = [];\n        var a = false;\n\n        for (var i in result.data) {\n          var obj = {};\n\n          for (var j in arr) {\n            if (result.data[i].type === Object.keys(arr[j])[0]) {\n              window.console.log(arr[j]);\n              arr[j][result.data[i].type].push({\n                function: result.data[i].function,\n                id: result.data[i].id,\n                reason: result.data[i].reason\n              });\n              a = true;\n            }\n          }\n\n          if (a) {\n            a = false;\n            continue;\n          }\n\n          obj[result.data[i].type] = [];\n          obj[result.data[i].type].push({\n            function: result.data[i].function,\n            id: result.data[i].id,\n            reason: result.data[i].reason\n          });\n          arr.push(obj);\n        }\n\n        window.console.log(arr);\n        _this.tableData = arr;\n      }).catch(function (err) {});\n    },\n    saveEdit: function saveEdit() {\n      var _this2 = this;\n\n      this.editVisible = false;\n      axios({\n        method: 'post',\n        url: '/addNewBooklet',\n        data: this.form\n      }).then(function (res) {\n        window.console.log(res.data);\n\n        _this2.fetchBooklet();\n      }).catch(function (err) {});\n    },\n    deleteBooklet: function deleteBooklet(a) {\n      var _this3 = this;\n\n      window.console.log(a);\n      this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        axios({\n          method: 'get',\n          url: '/deleteBooklet',\n          params: {\n            id: a.id\n          }\n        }).then(function (res) {\n          _this3.$message({\n            type: 'success',\n            message: res.data\n          });\n\n          _this3.fetchBooklet();\n        }).catch(function (err) {});\n      }).catch(function (err) {});\n    },\n    changeBooklet: function changeBooklet() {\n      var _this4 = this;\n\n      axios({\n        method: 'post',\n        url: '/changeBooklet',\n        data: {\n          data: this.form2\n        }\n      }).then(function (res) {\n        window.console.log(res.data);\n\n        _this4.fetchBooklet();\n\n        _this4.editVisible2 = false;\n      }).catch(function (err) {});\n    }\n  }\n};",{"version":3,"sources":["ServiceBooklet.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Author: your name\r\n * @Date: 2020-05-07 14:21:47\r\n * @LastEditTime: 2020-05-18 10:20:47\r\n * @LastEditors: Please set LastEditors\r\n * @Description: 服务手册\r\n * @FilePath: \\vue-manage-system\\src\\components\\view\\ServiceBooklet.vue\r\n -->\r\n<!--  -->\r\n<template>\r\n    <div>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-lx-cascades\"></i> 服务手册\r\n                </el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <div class=\"container\">\r\n            <el-button\r\n                type=\"primary\"\r\n                icon=\"el-icon-plus\"\r\n                class=\"handle-del mr10 mb-30\"\r\n                @click=\"editVisible = true\"\r\n            >添加</el-button>\r\n            <!-- <el-button type=\"primary\" icon=\"el-icon-delete\" class=\"handle-del mr10 mb-30\">导入</el-button> -->\r\n            <el-collapse v-model=\"activeName\" accordion>\r\n                <el-collapse-item\r\n                    v-for=\"(item, index) in tableData\"\r\n                    :key=\"index\"\r\n                    :title=\"Object.keys(item)[0]\"\r\n                    :name=\"index\"\r\n                >\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>可能产生的原因</th>\r\n                                <th>排除办法</th>\r\n                                <th>操作</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody v-for=\"(item2, index2) in item[Object.keys(item)[0]]\" :key=\"index2\">\r\n                            <tr>\r\n                                <td>{{item2.reason}}</td>\r\n                                <td>{{item2.function}}</td>\r\n                                <td>\r\n                                    <el-button\r\n                                        type=\"primary\"\r\n                                        plain\r\n                                        size=\"small\"\r\n                                        @click=\"() => {\r\n                                            editVisible2 = true\r\n                                            form2 = item2\r\n                                        }\"\r\n                                    >编辑</el-button>\r\n                                    <el-button\r\n                                        type=\"primary\"\r\n                                        plain\r\n                                        size=\"small\"\r\n                                        @click=\"deleteBooklet(item2)\"\r\n                                    >删除</el-button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </el-collapse-item>\r\n            </el-collapse>\r\n        </div>\r\n\r\n        <!-- 添加 -->\r\n        <el-dialog title=\"添加\" :visible.sync=\"editVisible\" width=\"30%\">\r\n            <el-form ref=\"form\" :model=\"form\" label-width=\"130px\">\r\n                <el-form-item label=\"故障现象\">\r\n                    <el-input v-model=\"form.type\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"可能产生的原因\">\r\n                    <el-input v-model=\"form.reason\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"排除方法\">\r\n                    <el-input v-model=\"form.function\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"editVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <!-- 编辑 -->\r\n        <el-dialog title=\"编辑\" :visible.sync=\"editVisible2\" width=\"30%\">\r\n            <el-form ref=\"form\" :model=\"form2\" label-width=\"130px\">\r\n                <el-form-item label=\"可能产生的原因\">\r\n                    <el-input v-model=\"form2.reason\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"排除方法\">\r\n                    <el-input v-model=\"form2.function\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"editVisible2 = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"changeBooklet\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'ServiceBooklet',\r\n    data() {\r\n        return {\r\n            editVisible: false,\r\n            activeName: 0,\r\n            tableData: [],\r\n            form: {},\r\n            form2: {},\r\n            editVisible2: false\r\n        };\r\n    },\r\n\r\n    components: {},\r\n\r\n    computed: {},\r\n    created() {\r\n        this.fetchBooklet();\r\n    },\r\n    methods: {\r\n        fetchBooklet() {\r\n            axios({\r\n                method: 'get',\r\n                url: '/fetchBooklet'\r\n            })\r\n                .then(result => {\r\n                    window.console.log(result.data);\r\n                    let arr = [];\r\n                    let a = false;\r\n                    for (let i in result.data) {\r\n                        let obj = {};\r\n\r\n                        for (let j in arr) {\r\n                            if (result.data[i].type === Object.keys(arr[j])[0]) {\r\n                                window.console.log(arr[j]);\r\n                                arr[j][result.data[i].type].push({\r\n                                    function: result.data[i].function,\r\n                                    id: result.data[i].id,\r\n                                    reason: result.data[i].reason\r\n                                });\r\n                                a = true;\r\n                            }\r\n                        }\r\n                        if (a) {\r\n                            a = false;\r\n\r\n                            continue;\r\n                        }\r\n                        obj[result.data[i].type] = [];\r\n                        obj[result.data[i].type].push({\r\n                            function: result.data[i].function,\r\n                            id: result.data[i].id,\r\n                            reason: result.data[i].reason\r\n                        });\r\n                        arr.push(obj);\r\n                    }\r\n                    window.console.log(arr);\r\n                    this.tableData = arr;\r\n                })\r\n                .catch(err => {});\r\n        },\r\n        saveEdit() {\r\n            this.editVisible = false;\r\n            axios({\r\n                method: 'post',\r\n                url: '/addNewBooklet',\r\n                data: this.form\r\n            })\r\n                .then(res => {\r\n                    window.console.log(res.data);\r\n                    this.fetchBooklet();\r\n                })\r\n                .catch(err => {});\r\n        },\r\n\r\n        deleteBooklet(a) {\r\n            window.console.log(a);\r\n            this.$confirm('此操作将永久删除该记录, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            })\r\n                .then(() => {\r\n                    axios({\r\n                        method: 'get',\r\n                        url: '/deleteBooklet',\r\n                        params: {\r\n                            id: a.id\r\n                        }\r\n                    })\r\n                        .then(res => {\r\n                            this.$message({\r\n                                type: 'success',\r\n                                message: res.data\r\n                            });\r\n                            this.fetchBooklet();\r\n                        })\r\n                        .catch(err => {});\r\n                })\r\n                .catch(err => {});\r\n        },\r\n\r\n        changeBooklet() {\r\n            axios({\r\n                method: 'post',\r\n                url: '/changeBooklet',\r\n                data: {\r\n                    data: this.form2\r\n                }\r\n            })\r\n                .then(res => {\r\n                    window.console.log(res.data);\r\n                    this.fetchBooklet();\r\n                    this.editVisible2 = false;\r\n                })\r\n                .catch(err => {});\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style scoped>\r\nth {\r\n    background-color: #eef1f6;\r\n    padding: 5px 15px;\r\n}\r\ntd {\r\n    padding: 5px 15px;\r\n}\r\ntable {\r\n    margin: 0 auto;\r\n    width: 90%;\r\n    /* border: 1px solid #cdcdcd; */\r\n    text-align: center;\r\n}\r\n.mb-30 {\r\n    margin-bottom: 30px;\r\n}\r\n</style>"],"sourceRoot":"src/components/view"}]}
{"remainingRequest":"D:\\git\\hualiyeya\\web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!D:\\git\\hualiyeya\\web\\src\\components\\view\\AddNewProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\git\\hualiyeya\\web\\src\\components\\view\\AddNewProduct.vue","mtime":1590980248015},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n// import { provinceAndCityData, regionData, provinceAndCityDataPlus, regionDataPlus, CodeToText, TextToCode } from 'element-china-area-data';\r\nexport default {\r\n    name: 'AddNewProduct',\r\n    data() {\r\n        return {\r\n            // options: regionData,\r\n            form: {\r\n                DeviceID: '',\r\n                DeviceClass: '',\r\n                DeviceName: '',\r\n                Model: '',\r\n                SerialNumber: '',\r\n                CustomerName: '',\r\n                CustomerIndustry: '',\r\n                Address: '',\r\n                Province: '',\r\n                City: '',\r\n                District: '',\r\n                fileListImg: [],\r\n                fileListWord: []\r\n            },\r\n\r\n            selectedOptions: ''\r\n        };\r\n    },\r\n    methods: {\r\n        onSubmit() {\r\n            axios({\r\n                method: 'post',\r\n                url: '/addNewProduct',\r\n                data: this.form\r\n            })\r\n                .then(res => {\r\n                    window.console.log(res.data);\r\n                    this.$message.success('提交成功！');\r\n                    this.$refs.form.resetFields();\r\n\r\n                    setTimeout(() => {\r\n                        this.$router.go(-1);\r\n                    }, 1000);\r\n                })\r\n                .catch(err => {});\r\n        },\r\n        //文件列表移除文件时的钩子\r\n        handleRemove(file, fileList) {\r\n            axios({\r\n                url: '/remove',\r\n                method: 'post',\r\n                data: {\r\n                    file: file\r\n                }\r\n            })\r\n                .then(res => {\r\n                    window.console.log(res.data);\r\n                })\r\n                .catch(err => {});\r\n            window.console.log(file, fileList);\r\n        },\r\n        //点击文件列表中已上传的文件时的钩子\r\n        handlePreview(file) {\r\n            console.log(file);\r\n        },\r\n        //文件超出个数限制时的钩子\r\n        handleExceed(files, fileList) {\r\n            this.$message.warning(\r\n                `当前限制选择 6 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`\r\n            );\r\n        },\r\n        //删除文件之前的钩子，参数为上传的文件和文件列表，若返回 false 或者返回 Promise 且被 reject，则停止删除。\r\n        beforeRemove(file, fileList) {\r\n            return this.$confirm(`确定移除 ${file.name}？`);\r\n        },\r\n        //文件上传成功时的钩子\r\n        handleAvatarSuccess(response, file, fileList) {\r\n            window.console.log(response, file, fileList);\r\n            this.form.fileListImg = fileList;\r\n        },\r\n        beforeAvatarUpload(file) {\r\n            const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n            if (!isLt2M) {\r\n                this.$message.error('上传头像图片大小不能超过 2MB!');\r\n            }\r\n            return isLt2M;\r\n        }\r\n    }\r\n};\r\n",{"version":3,"sources":["AddNewProduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddNewProduct.vue","sourceRoot":"src/components/view","sourcesContent":["<!--\r\n * @Author: your name\r\n * @Date: 2020-05-06 14:19:13\r\n * @LastEditTime: 2020-05-27 16:40:32\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\vue-manage-system\\src\\components\\view\\AddNewProduct.vue\r\n -->\r\n<template>\r\n    <div>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-lx-calendar\"></i> 产品档案\r\n                </el-breadcrumb-item>\r\n                <el-breadcrumb-item>添加产品</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <div class=\"container\">\r\n            <el-button type=\"primary\" @click=\"$router.go(-1)\">返回</el-button>\r\n\r\n            <div class=\"form-box\">\r\n                <el-form ref=\"form\" :model=\"form\" label-width=\"120px\">\r\n                    <el-form-item label=\"设备ID\" prop=\"DeviceID\">\r\n                        <el-input v-model=\"form.DeviceID\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"设备种类\" prop=\"DeviceClass\">\r\n                        <el-select v-model=\"form.DeviceClass\" placeholder=\"请选择\">\r\n                            <el-option label=\"干燥设备\" value=\"干燥设备\"></el-option>\r\n                            <el-option label=\"液压设备\" value=\"液压设备\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"设备名称\" prop=\"DeviceName\">\r\n                        <el-input v-model=\"form.DeviceName\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"型号描述\" prop=\"Model\">\r\n                        <el-input v-model=\"form.Model\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"出厂编号\" prop=\"SerialNumber\">\r\n                        <el-input v-model=\"form.SerialNumber\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"所属客户名称\" prop=\"CustomerName\">\r\n                        <el-input v-model=\"form.CustomerName\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"客户行业\" prop=\"CustomerIndustry\">\r\n                        <el-input v-model=\"form.CustomerIndustry\"></el-input>\r\n                    </el-form-item>\r\n                    <!-- <el-form-item label=\"安装地址\" prop=\"selectedOptions\">\r\n                        <el-cascader\r\n                            size=\"large\"\r\n                            :options=\"options\"\r\n                            v-model=\"selectedOptions\"\r\n                            @change=\"handleChange\"\r\n                        ></el-cascader>\r\n                    </el-form-item>-->\r\n                    <el-form-item label=\"详细地址\" prop=\"Address\">\r\n                        <el-input v-model=\"form.Address\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"上传图片\">\r\n                        <el-upload\r\n                            multiple\r\n                            class=\"upload-demo\"\r\n                            ref=\"upload\"\r\n                            :action=\"axios.defaults.baseURL + '/upload'\"\r\n                            :on-preview=\"handlePreview\"\r\n                            :on-remove=\"handleRemove\"\r\n                            :file-list=\"form.fileListImg\"\r\n                            list-type=\"picture\"\r\n                            :limit=\"3\"\r\n                            :on-exceed=\"handleExceed\"\r\n                            :before-remove=\"beforeRemove\"\r\n                            :before-upload=\"beforeAvatarUpload\"\r\n                            :on-success=\"handleAvatarSuccess\"\r\n                            accept=\".png, .jpg, .jpeg\"\r\n                        >\r\n                            <el-button size=\"small\" type=\"primary\">选取文件</el-button>\r\n                            <span slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过2MB，最多上传3张图片</span>\r\n                            <!-- <div slot=\"tip\" class=\"el-upload__tip\">{{axios.defaults.baseURL}}</div> -->\r\n                        </el-upload>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"上传文档\">\r\n                        <el-upload\r\n                            class=\"upload-demo\"\r\n                            ref=\"upload\"\r\n                            :action=\"axios.defaults.baseURL + '/upload'\"\r\n                            :on-preview=\"handlePreview\"\r\n                            :on-remove=\"handleRemove\"\r\n                            :file-list=\"form.fileListWord\"\r\n                            list-type=\"text\"\r\n                            :limit=\"3\"\r\n                            :on-exceed=\"handleExceed\"\r\n                            :before-remove=\"beforeRemove\"\r\n                            :before-upload=\"beforeAvatarUpload\"\r\n                            :on-success=\"handleAvatarSuccess\"\r\n                            accept=\".pdf, .doc, .docx\"\r\n                        >\r\n                            <el-button size=\"small\" type=\"primary\">选取文件</el-button>\r\n                            <span slot=\"tip\" class=\"el-upload__tip\">只能上传pdf/word文件，且不超过2MB，最多上传3份文档</span>\r\n                        </el-upload>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button type=\"primary\" @click=\"onSubmit\">提交</el-button>\r\n                        <el-button @click=\"resetForm('form')\">取消</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// import { provinceAndCityData, regionData, provinceAndCityDataPlus, regionDataPlus, CodeToText, TextToCode } from 'element-china-area-data';\r\nexport default {\r\n    name: 'AddNewProduct',\r\n    data() {\r\n        return {\r\n            // options: regionData,\r\n            form: {\r\n                DeviceID: '',\r\n                DeviceClass: '',\r\n                DeviceName: '',\r\n                Model: '',\r\n                SerialNumber: '',\r\n                CustomerName: '',\r\n                CustomerIndustry: '',\r\n                Address: '',\r\n                Province: '',\r\n                City: '',\r\n                District: '',\r\n                fileListImg: [],\r\n                fileListWord: []\r\n            },\r\n\r\n            selectedOptions: ''\r\n        };\r\n    },\r\n    methods: {\r\n        onSubmit() {\r\n            axios({\r\n                method: 'post',\r\n                url: '/addNewProduct',\r\n                data: this.form\r\n            })\r\n                .then(res => {\r\n                    window.console.log(res.data);\r\n                    this.$message.success('提交成功！');\r\n                    this.$refs.form.resetFields();\r\n\r\n                    setTimeout(() => {\r\n                        this.$router.go(-1);\r\n                    }, 1000);\r\n                })\r\n                .catch(err => {});\r\n        },\r\n        //文件列表移除文件时的钩子\r\n        handleRemove(file, fileList) {\r\n            axios({\r\n                url: '/remove',\r\n                method: 'post',\r\n                data: {\r\n                    file: file\r\n                }\r\n            })\r\n                .then(res => {\r\n                    window.console.log(res.data);\r\n                })\r\n                .catch(err => {});\r\n            window.console.log(file, fileList);\r\n        },\r\n        //点击文件列表中已上传的文件时的钩子\r\n        handlePreview(file) {\r\n            console.log(file);\r\n        },\r\n        //文件超出个数限制时的钩子\r\n        handleExceed(files, fileList) {\r\n            this.$message.warning(\r\n                `当前限制选择 6 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`\r\n            );\r\n        },\r\n        //删除文件之前的钩子，参数为上传的文件和文件列表，若返回 false 或者返回 Promise 且被 reject，则停止删除。\r\n        beforeRemove(file, fileList) {\r\n            return this.$confirm(`确定移除 ${file.name}？`);\r\n        },\r\n        //文件上传成功时的钩子\r\n        handleAvatarSuccess(response, file, fileList) {\r\n            window.console.log(response, file, fileList);\r\n            this.form.fileListImg = fileList;\r\n        },\r\n        beforeAvatarUpload(file) {\r\n            const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n            if (!isLt2M) {\r\n                this.$message.error('上传头像图片大小不能超过 2MB!');\r\n            }\r\n            return isLt2M;\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style scoped>\r\n.form-box {\r\n    margin: 0 auto;\r\n}\r\n.avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n    border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n}\r\n.avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n}\r\n</style>"]}]}
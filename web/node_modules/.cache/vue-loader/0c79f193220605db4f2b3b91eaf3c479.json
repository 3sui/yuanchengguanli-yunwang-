{"remainingRequest":"D:\\git\\hualiyeya\\web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!D:\\git\\hualiyeya\\web\\src\\components\\Analysis\\FaultAnalysis.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\git\\hualiyeya\\web\\src\\components\\Analysis\\FaultAnalysis.vue","mtime":1591349406795},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nlet echarts = require('echarts/lib/echarts');\r\nexport default {\r\n    name: 'FaultAnalysis',\r\n    data() {\r\n        return {\r\n            datepick: '',\r\n            faultTop: [],\r\n            //     {\r\n            //         sort: 1,\r\n            //         fault_type: '泵类',\r\n            //         count: 20\r\n            //     },\r\n            //     {\r\n            //         sort: 2,\r\n            //         fault_type: '电机类',\r\n            //         count: 18\r\n            //     },\r\n            //     {\r\n            //         sort: 3,\r\n            //         fault_type: '冷却器类',\r\n            //         count: 14\r\n            //     },\r\n            //     {\r\n            //         sort: 4,\r\n            //         fault_type: '过滤器类',\r\n            //         count: 8\r\n            //     },\r\n            //     {\r\n            //         sort: 5,\r\n            //         fault_type: '油雾风机类',\r\n            //         count: 4\r\n            //     },\r\n            //     {\r\n            //         sort: 6,\r\n            //         fault_type: '电加热器类',\r\n            //         count: 2\r\n            //     },\r\n            //     {\r\n            //         sort: 7,\r\n            //         fault_type: '减压阀类',\r\n            //         count: 1\r\n            //     },\r\n            //     {\r\n            //         sort: 8,\r\n            //         fault_type: '减压阀类',\r\n            //         count: 1\r\n            //     },\r\n            //     {\r\n            //         sort: 9,\r\n            //         fault_type: '减压阀类',\r\n            //         count: 1\r\n            //     },\r\n            //     {\r\n            //         sort: 10,\r\n            //         fault_type: '减压阀类',\r\n            //         count: 1\r\n            //     },\r\n\r\n            //     {\r\n            //         sort: 11,\r\n            //         fault_type: '减压阀类',\r\n            //         count: 1\r\n            //     }\r\n            // ],\r\n            style: ['s1', 's2', 's3', 's4'],\r\n            backgroundstyle: ['b1', 'b2', 'b3', 'b4'],\r\n            faulttypelist: [],\r\n            faultnumlist: []\r\n        };\r\n    },\r\n    created() {\r\n        this.getFaultList();\r\n    },\r\n    mounted() {\r\n        this.getdata(), this.getChart1();\r\n    },\r\n    methods: {\r\n        //获取数据库数据\r\n        getFaultList() {\r\n            this.$axios\r\n                .get('FaultByType')\r\n                .then(res => {\r\n                    if (res) {\r\n                        this.faultTop = res.data;\r\n                       \r\n                    }\r\n                })\r\n                .then(() => {\r\n                    this.getdata();\r\n                    this.getChart1();\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n        },\r\n\r\n        //获取数据\r\n        getdata() {\r\n            for (let i = 0; i < this.faultTop.length; i++) {\r\n                let item = this.faultTop[i];\r\n                this.faulttypelist.push(item.fault_type);\r\n                this.faultnumlist.push(item.count);\r\n            }\r\n        },\r\n        //获取图表1\r\n        getChart1() {\r\n            // console.log(document.getElementById('byEnterprise'));\r\n            let myChart = this.$echarts.init(document.getElementById('byFault'));\r\n            // 指定图表的配置项和数据\r\n            var index = 0;\r\n            var colorList = ['#f36c6c', '#e6cf4e', '#20d180', '#0093ff'];\r\n            var option = {\r\n                title: {\r\n                    text: '故障种类数量分布图',\r\n                    left: '45%'\r\n                },\r\n\r\n                tooltip: {\r\n                    trigger: 'axis',\r\n                    axisPointer: {\r\n                        type: 'shadow'\r\n                    }\r\n                },\r\n                legend: {\r\n                    show: false\r\n                },\r\n                grid: {\r\n                    left: 150,\r\n                    bottom: 30\r\n                },\r\n                toolbox: {\r\n                    show: true,\r\n                    feature: {\r\n                        saveAsImage: {}\r\n                    }\r\n                },\r\n                xAxis: {\r\n                    type: 'value',\r\n\r\n                    splitLine: {\r\n                        show: false\r\n                    },\r\n                    axisLabel: {\r\n                        show: false\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    axisLine: {\r\n                        show: false\r\n                    }\r\n                },\r\n                yAxis: {\r\n                    type: 'category',\r\n                    inverse: true,\r\n                    axisLine: {\r\n                        show: false\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    // axisPointer: {\r\n                    //     label: {\r\n                    //         show: true,\r\n                    //         margin: 30\r\n                    //     }\r\n                    // },\r\n                    data: this.faulttypelist,\r\n                    axisLabel: {\r\n                        margin: 100,\r\n                        fontSize: 14,\r\n                        align: 'left',\r\n                        color: '#333',\r\n                        rich: {\r\n                            a1: {\r\n                                color: '#fff',\r\n                                backgroundColor: colorList[0],\r\n                                width: 30,\r\n                                height: 30,\r\n                                align: 'center',\r\n                                borderRadius: 2\r\n                            },\r\n                            a2: {\r\n                                color: '#fff',\r\n                                backgroundColor: colorList[1],\r\n                                width: 30,\r\n                                height: 30,\r\n                                align: 'center',\r\n                                borderRadius: 2\r\n                            },\r\n                            a3: {\r\n                                color: '#fff',\r\n                                backgroundColor: colorList[2],\r\n                                width: 30,\r\n                                height: 30,\r\n                                align: 'center',\r\n                                borderRadius: 2\r\n                            },\r\n                            b: {\r\n                                color: '#fff',\r\n                                backgroundColor: colorList[3],\r\n                                width: 30,\r\n                                height: 30,\r\n                                align: 'center',\r\n                                borderRadius: 2\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                series: [\r\n                    {\r\n                        z: 2,\r\n                        name: '故障数量',\r\n                        type: 'bar',\r\n                        data: this.faultnumlist.map((item, i) => {\r\n                            let itemStyle = {\r\n                                color: i > 3 ? colorList[3] : colorList[i]\r\n                            };\r\n                            return {\r\n                                value: item,\r\n                                itemStyle: itemStyle\r\n                            };\r\n                        }),\r\n                        label: {\r\n                            show: true,\r\n                            position: 'right',\r\n                            color: '#333333',\r\n                            fontSize: 14,\r\n                            offset: [10, 0]\r\n                        }\r\n                    }\r\n                ]\r\n            };\r\n            // 使用刚指定的配置项和数据显示图表。\r\n            myChart.setOption(option);\r\n        }\r\n    }\r\n};\r\n",{"version":3,"sources":["FaultAnalysis.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FaultAnalysis.vue","sourceRoot":"src/components/Analysis","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-lx-cascades\"></i> 分析中心\r\n                </el-breadcrumb-item>\r\n                <el-breadcrumb-item>故障分析</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <div class=\"container\">\r\n            <el-row :gutter=\"20\" class=\"mgb20\">\r\n                <el-col :span=\"6\">\r\n                    <div class=\"block\">\r\n                        <span class=\"demonstration\"></span>\r\n                        <el-date-picker\r\n                            v-model=\"datepick\"\r\n                            type=\"daterange\"\r\n                            align=\"right\"\r\n                            unlink-panels\r\n                            range-separator=\"-\"\r\n                            start-placeholder=\"开始日期\"\r\n                            end-placeholder=\"结束日期\"\r\n                            :picker-options=\"pickerOptions\"\r\n                        ></el-date-picker>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                    <el-button type=\"primary\" icon=\"el-icon-search\">查询报表</el-button>\r\n                    <el-button type=\"primary\" icon=\"el-icon-download\">导出报表</el-button>\r\n                </el-col>\r\n            </el-row>\r\n            <el-row :gutter=\"20\" class=\"mgb20\">\r\n                <el-col :span=\"6\" v-for=\"(fault,index) in faultTop\" :key=\"index\">\r\n                    <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\" v-if=\"index<4\">\r\n                        <div class=\"grid-content grid-con\">\r\n                            <i class=\"grid-con-icon\" :class=\"backgroundstyle[index]\">{{fault.sort}}</i>\r\n                            <div class=\"grid-cont-right\">\r\n                                <el-row>\r\n                                    <div\r\n                                        class=\"card-title\"\r\n                                        :class=\"style[index]\"\r\n                                    >{{fault.fault_type}}</div>\r\n                                </el-row>\r\n                                <el-row :gutter=\"24\">\r\n                                    <el-col :span=\"24\">\r\n                                        <div :class=\"style[index]\" class=\"grid-num\">{{fault.count}}</div>\r\n                                        <div>故障数</div>\r\n                                    </el-col>\r\n                                </el-row>\r\n                            </div>\r\n                        </div>\r\n                    </el-card>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n        <div class=\"container\" style=\"margin-top:10px\">\r\n            <el-row :gutter=\"20\" class=\"mgb20\">\r\n                <el-col :span=\"12\">\r\n                    <div id=\"byFault\" style=\"height: 480px; width: 100%;\"></div>\r\n                </el-col>\r\n\r\n                <el-col :span=\"12\">\r\n                    <el-table :data=\"faultTop\" height=\"480px\" border style=\"width: 100%\">\r\n                        <el-table-column prop=\"sort\" label=\"序号\" width=\"180\" align=\"center\"></el-table-column>\r\n                        <el-table-column prop=\"fault_type\" label=\"故障类型\" width=\"180\" align=\"center\"></el-table-column>\r\n                        <el-table-column prop=\"count\" label=\"故障数量\" align=\"center\"></el-table-column>\r\n                    </el-table>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nlet echarts = require('echarts/lib/echarts');\r\nexport default {\r\n    name: 'FaultAnalysis',\r\n    data() {\r\n        return {\r\n            datepick: '',\r\n            faultTop: [],\r\n            //     {\r\n            //         sort: 1,\r\n            //         fault_type: '泵类',\r\n            //         count: 20\r\n            //     },\r\n            //     {\r\n            //         sort: 2,\r\n            //         fault_type: '电机类',\r\n            //         count: 18\r\n            //     },\r\n            //     {\r\n            //         sort: 3,\r\n            //         fault_type: '冷却器类',\r\n            //         count: 14\r\n            //     },\r\n            //     {\r\n            //         sort: 4,\r\n            //         fault_type: '过滤器类',\r\n            //         count: 8\r\n            //     },\r\n            //     {\r\n            //         sort: 5,\r\n            //         fault_type: '油雾风机类',\r\n            //         count: 4\r\n            //     },\r\n            //     {\r\n            //         sort: 6,\r\n            //         fault_type: '电加热器类',\r\n            //         count: 2\r\n            //     },\r\n            //     {\r\n            //         sort: 7,\r\n            //         fault_type: '减压阀类',\r\n            //         count: 1\r\n            //     },\r\n            //     {\r\n            //         sort: 8,\r\n            //         fault_type: '减压阀类',\r\n            //         count: 1\r\n            //     },\r\n            //     {\r\n            //         sort: 9,\r\n            //         fault_type: '减压阀类',\r\n            //         count: 1\r\n            //     },\r\n            //     {\r\n            //         sort: 10,\r\n            //         fault_type: '减压阀类',\r\n            //         count: 1\r\n            //     },\r\n\r\n            //     {\r\n            //         sort: 11,\r\n            //         fault_type: '减压阀类',\r\n            //         count: 1\r\n            //     }\r\n            // ],\r\n            style: ['s1', 's2', 's3', 's4'],\r\n            backgroundstyle: ['b1', 'b2', 'b3', 'b4'],\r\n            faulttypelist: [],\r\n            faultnumlist: []\r\n        };\r\n    },\r\n    created() {\r\n        this.getFaultList();\r\n    },\r\n    mounted() {\r\n        this.getdata(), this.getChart1();\r\n    },\r\n    methods: {\r\n        //获取数据库数据\r\n        getFaultList() {\r\n            this.$axios\r\n                .get('FaultByType')\r\n                .then(res => {\r\n                    if (res) {\r\n                        this.faultTop = res.data;\r\n                       \r\n                    }\r\n                })\r\n                .then(() => {\r\n                    this.getdata();\r\n                    this.getChart1();\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n        },\r\n\r\n        //获取数据\r\n        getdata() {\r\n            for (let i = 0; i < this.faultTop.length; i++) {\r\n                let item = this.faultTop[i];\r\n                this.faulttypelist.push(item.fault_type);\r\n                this.faultnumlist.push(item.count);\r\n            }\r\n        },\r\n        //获取图表1\r\n        getChart1() {\r\n            // console.log(document.getElementById('byEnterprise'));\r\n            let myChart = this.$echarts.init(document.getElementById('byFault'));\r\n            // 指定图表的配置项和数据\r\n            var index = 0;\r\n            var colorList = ['#f36c6c', '#e6cf4e', '#20d180', '#0093ff'];\r\n            var option = {\r\n                title: {\r\n                    text: '故障种类数量分布图',\r\n                    left: '45%'\r\n                },\r\n\r\n                tooltip: {\r\n                    trigger: 'axis',\r\n                    axisPointer: {\r\n                        type: 'shadow'\r\n                    }\r\n                },\r\n                legend: {\r\n                    show: false\r\n                },\r\n                grid: {\r\n                    left: 150,\r\n                    bottom: 30\r\n                },\r\n                toolbox: {\r\n                    show: true,\r\n                    feature: {\r\n                        saveAsImage: {}\r\n                    }\r\n                },\r\n                xAxis: {\r\n                    type: 'value',\r\n\r\n                    splitLine: {\r\n                        show: false\r\n                    },\r\n                    axisLabel: {\r\n                        show: false\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    axisLine: {\r\n                        show: false\r\n                    }\r\n                },\r\n                yAxis: {\r\n                    type: 'category',\r\n                    inverse: true,\r\n                    axisLine: {\r\n                        show: false\r\n                    },\r\n                    axisTick: {\r\n                        show: false\r\n                    },\r\n                    // axisPointer: {\r\n                    //     label: {\r\n                    //         show: true,\r\n                    //         margin: 30\r\n                    //     }\r\n                    // },\r\n                    data: this.faulttypelist,\r\n                    axisLabel: {\r\n                        margin: 100,\r\n                        fontSize: 14,\r\n                        align: 'left',\r\n                        color: '#333',\r\n                        rich: {\r\n                            a1: {\r\n                                color: '#fff',\r\n                                backgroundColor: colorList[0],\r\n                                width: 30,\r\n                                height: 30,\r\n                                align: 'center',\r\n                                borderRadius: 2\r\n                            },\r\n                            a2: {\r\n                                color: '#fff',\r\n                                backgroundColor: colorList[1],\r\n                                width: 30,\r\n                                height: 30,\r\n                                align: 'center',\r\n                                borderRadius: 2\r\n                            },\r\n                            a3: {\r\n                                color: '#fff',\r\n                                backgroundColor: colorList[2],\r\n                                width: 30,\r\n                                height: 30,\r\n                                align: 'center',\r\n                                borderRadius: 2\r\n                            },\r\n                            b: {\r\n                                color: '#fff',\r\n                                backgroundColor: colorList[3],\r\n                                width: 30,\r\n                                height: 30,\r\n                                align: 'center',\r\n                                borderRadius: 2\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                series: [\r\n                    {\r\n                        z: 2,\r\n                        name: '故障数量',\r\n                        type: 'bar',\r\n                        data: this.faultnumlist.map((item, i) => {\r\n                            let itemStyle = {\r\n                                color: i > 3 ? colorList[3] : colorList[i]\r\n                            };\r\n                            return {\r\n                                value: item,\r\n                                itemStyle: itemStyle\r\n                            };\r\n                        }),\r\n                        label: {\r\n                            show: true,\r\n                            position: 'right',\r\n                            color: '#333333',\r\n                            fontSize: 14,\r\n                            offset: [10, 0]\r\n                        }\r\n                    }\r\n                ]\r\n            };\r\n            // 使用刚指定的配置项和数据显示图表。\r\n            myChart.setOption(option);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.el-row {\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.grid-content {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 120px;\r\n}\r\n\r\n.grid-cont-right {\r\n    flex: 1;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.grid-num {\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.grid-con-icon {\r\n    font-size: 50px;\r\n    width: 120px;\r\n    height: 120px;\r\n    text-align: center;\r\n    line-height: 120px;\r\n    color: #fff;\r\n}\r\n\r\n.card-title {\r\n    text-align: center;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    /* color: coral; */\r\n    letter-spacing: 0.5em;\r\n    line-height: 50px;\r\n}\r\n\r\n.s1 {\r\n    color: rgb(45, 140, 240);\r\n}\r\n\r\n.s2 {\r\n    color: coral;\r\n}\r\n\r\n.s3 {\r\n    color: darkturquoise;\r\n}\r\n\r\n.s4 {\r\n    color: red;\r\n}\r\n\r\n.b1 {\r\n    background-color: rgb(45, 140, 240);\r\n}\r\n\r\n.b2 {\r\n    background-color: coral;\r\n}\r\n\r\n.b3 {\r\n    background-color: darkturquoise;\r\n}\r\n\r\n.b4 {\r\n    background-color: red;\r\n}\r\n.container {\r\n    padding-top: 15px;\r\n    padding-bottom: 15px;\r\n}\r\n</style>"]}]}
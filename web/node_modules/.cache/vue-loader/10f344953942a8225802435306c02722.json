{"remainingRequest":"D:\\git\\hualiyeya\\web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!D:\\git\\hualiyeya\\web\\src\\components\\Analysis\\IndustryAnalysis.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\git\\hualiyeya\\web\\src\\components\\Analysis\\IndustryAnalysis.vue","mtime":1591264412132},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\git\\hualiyeya\\web\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nlet echarts = require('echarts/lib/echarts');\r\nexport default {\r\n    name: 'IndustryAnalysis',\r\n    data() {\r\n        return {\r\n            datepick: '',\r\n            // pickerOptions: {\r\n            //     shortcuts: [\r\n            //         {\r\n            //             text: '最近一周',\r\n            //             onClick(picker) {\r\n            //                 const end = new Date();\r\n            //                 const start = new Date();\r\n            //                 start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n            //                 picker.$emit('pick', [start, end]);\r\n            //             }\r\n            //         },\r\n            //         {\r\n            //             text: '最近一个月',\r\n            //             onClick(picker) {\r\n            //                 const end = new Date();\r\n            //                 const start = new Date();\r\n            //                 start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n            //                 picker.$emit('pick', [start, end]);\r\n            //             }\r\n            //         },\r\n            //         {\r\n            //             text: '最近三个月',\r\n            //             onClick(picker) {\r\n            //                 const end = new Date();\r\n            //                 const start = new Date();\r\n            //                 start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n            //                 picker.$emit('pick', [start, end]);\r\n            //             }\r\n            //         }\r\n            //     ]\r\n            // },\r\n\r\n            industryTop: [],\r\n            // {\r\n            //     industryname: '干燥行业',\r\n            //     enterpriseNum: 20,\r\n            //     deviceNum: 200,\r\n            //     sort: 1\r\n            // },\r\n            // {\r\n            //     industryname: '液压行业',\r\n            //     enterpriseNum: 17,\r\n            //     deviceNum: 150,\r\n            //     sort: 2\r\n            // },\r\n            // {\r\n            //     industryname: '钢铁行业',\r\n            //     enterpriseNum: 10,\r\n            //     deviceNum: 80,\r\n            //     sort: 3\r\n            // },\r\n            // {\r\n            //     industryname: '电子行业',\r\n            //     enterpriseNum: 26,\r\n            //     deviceNum: 30,\r\n            //     sort: 4\r\n            // },\r\n            // {\r\n            //     industryname: '纺织行业',\r\n            //     enterpriseNum: 8,\r\n            //     deviceNum: 40,\r\n            //     sort: 5\r\n            // },\r\n            // {\r\n            //     industryname: '钣金行业',\r\n            //     enterpriseNum: 5,\r\n            //     deviceNum: 20,\r\n            //     sort: 6\r\n            // },\r\n            // {\r\n            //     industryname: '实施行业',\r\n            //     enterpriseNum: 8,\r\n            //     deviceNum: 40,\r\n            //     sort: 7\r\n            // },\r\n            // {\r\n            //     industryname: '看了行业',\r\n            //     enterpriseNum: 5,\r\n            //     deviceNum: 20,\r\n            //     sort: 8\r\n            // }\r\n            // ],\r\n            style: ['s1', 's2', 's3', 's4'],\r\n            backgroundstyle: ['b1', 'b2', 'b3', 'b4'],\r\n            industrylist: [],\r\n            devicenumlist: [],\r\n            enterprisenumlist: []\r\n        };\r\n    },\r\n    created() {\r\n        this.getEnterprise();\r\n    },\r\n\r\n    mounted() {\r\n        this.getChart2();\r\n    },\r\n    methods: {\r\n        //获取企业行业数据\r\n        getEnterprise() {\r\n            this.$axios\r\n                .get('EnterprisesByIndustry')\r\n                .then(res => {\r\n                    if (res) {\r\n                        this.industryTop = res.data;\r\n                        console.log(this.industryTop);\r\n                    }\r\n                })\r\n                .then(() => {\r\n                    this.getdata();\r\n                    this.getChart2();\r\n                })\r\n\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n        },\r\n\r\n        //获取数据\r\n        getdata() {\r\n            this.industrylist = [];\r\n            this.devicenumlist = [];\r\n            this.enterprisenumlist = [];\r\n            for (let i = 0; i < this.industryTop.length; i++) {\r\n                // console.log(1);\r\n                let item = this.industryTop[i];\r\n                this.industrylist.push(item.industryname);\r\n                this.devicenumlist.push(item.deviceNum);\r\n                this.enterprisenumlist.push(item.enterpriseNum);\r\n            }\r\n            // console.log(this.industrylist)\r\n            //  console.log(this.devicenumlist)\r\n            //   console.log(this.enterprisenumlist)\r\n        },\r\n\r\n        //获取图表2\r\n        getChart2() {\r\n            // console.log(document.getElementById('byDevice'));\r\n            let myChart = this.$echarts.init(document.getElementById('byDevice'));\r\n            // 指定图表的配置项和数据\r\n            var xData = this.industrylist;\r\n            // var lineData = [100, 100, 100, 100, 100, 100, 100]\r\n            var lastYearData = this.devicenumlist;\r\n            var thisYearData = this.enterprisenumlist;\r\n            var timeLineData = [1];\r\n            let legend = ['设备数', '企业数'];\r\n            var background = '#fff'; //背景\r\n            let textColor = '#000';\r\n            let lineColor = 'rgba(255,255,255,0.2)';\r\n            let colors = [\r\n                {\r\n                    borderColor: 'rgba(227,161,96,1)',\r\n                    start: 'rgba(227,161,96,0.8)',\r\n                    end: 'rgba(227,161,96,0.3)'\r\n                },\r\n                {\r\n                    borderColor: 'rgba(0,222,255,1)',\r\n                    start: 'rgba(0,222,255,0.3)',\r\n                    end: 'rgba(0,222,255,0.8)'\r\n                }\r\n            ];\r\n            let borderData = [];\r\n            let scale = 2;\r\n            borderData = xData.map(item => {\r\n                return scale;\r\n            });\r\n            var option = {\r\n                baseOption: {\r\n                    title: {\r\n                        show: true,\r\n                        text: '设备数量企业数量行业分布图',\r\n                        left: 'left'\r\n                    },\r\n                    backgroundColor: background,\r\n                    timeline: {\r\n                        show: false,\r\n                        top: 0,\r\n                        data: []\r\n                    },\r\n                    toolbox: {\r\n                        show: true,\r\n                        feature: {\r\n                            saveAsImage: {}\r\n                        }\r\n                    },\r\n                    legend: {\r\n                        top: '5%',\r\n                        right: '5%',\r\n                        itemWidth: 20,\r\n                        itemHeight: 8,\r\n                        // itemGap: 343,\r\n                        icon: 'horizontal',\r\n                        textStyle: {\r\n                            color: '#000',\r\n                            fontSize: 16\r\n                        },\r\n                        data: legend\r\n                    },\r\n                    grid: [\r\n                        {\r\n                            show: false,\r\n                            left: '5%',\r\n                            top: '15%',\r\n                            bottom: '8%',\r\n                            containLabel: true,\r\n                            width: '37%'\r\n                        },\r\n                        {\r\n                            show: false,\r\n                            left: '51%',\r\n                            top: '15%',\r\n                            bottom: '8%',\r\n                            //    containLabel: true,\r\n                            width: '0%'\r\n                        },\r\n                        {\r\n                            show: false,\r\n                            right: '2%',\r\n                            top: '15%',\r\n                            bottom: '8%',\r\n                            containLabel: true,\r\n                            width: '37%'\r\n                        }\r\n                    ],\r\n                    xAxis: [\r\n                        {\r\n                            type: 'value',\r\n                            inverse: true,\r\n                            axisLine: {\r\n                                show: false\r\n                            },\r\n                            // label: {\r\n                            //     show: true\r\n                            // },\r\n                            axisTick: {\r\n                                show: false\r\n                            },\r\n                            position: 'top',\r\n                            axisLabel: {\r\n                                show: true,\r\n                                color: textColor\r\n                            },\r\n                            splitLine: {\r\n                                show: true,\r\n                                lineStyle: {\r\n                                    color: lineColor\r\n                                }\r\n                            }\r\n                        },\r\n                        {\r\n                            gridIndex: 1,\r\n                            show: false\r\n                        },\r\n                        {\r\n                            gridIndex: 2,\r\n                            axisLine: {\r\n                                show: false\r\n                            },\r\n                            axisTick: {\r\n                                show: false\r\n                            },\r\n                            position: 'top',\r\n                            axisLabel: {\r\n                                show: true,\r\n                                color: textColor\r\n                            },\r\n                            splitLine: {\r\n                                show: true,\r\n                                lineStyle: {\r\n                                    color: lineColor\r\n                                }\r\n                            }\r\n                        }\r\n                    ],\r\n                    yAxis: [\r\n                        {\r\n                            type: 'category',\r\n                            inverse: true,\r\n                            position: 'right',\r\n                            axisLine: {\r\n                                show: true,\r\n                                lineStyle: {\r\n                                    color: lineColor\r\n                                }\r\n                            },\r\n\r\n                            axisTick: {\r\n                                show: false\r\n                            },\r\n                            axisLabel: {\r\n                                show: false\r\n                            },\r\n                            data: xData\r\n                        },\r\n                        {\r\n                            gridIndex: 1,\r\n                            type: 'category',\r\n                            inverse: true,\r\n                            position: 'left',\r\n                            axisLine: {\r\n                                show: false\r\n                            },\r\n                            axisTick: {\r\n                                show: false\r\n                            },\r\n                            axisLabel: {\r\n                                show: true,\r\n                                padding: [30, 0, 0, 0],\r\n                                textStyle: {\r\n                                    color: '#000',\r\n                                    fontSize: 14\r\n                                },\r\n                                align: 'center'\r\n                            },\r\n                            data: xData.map(function(value) {\r\n                                return {\r\n                                    value: value,\r\n                                    textStyle: {\r\n                                        align: 'center'\r\n                                    }\r\n                                };\r\n                            })\r\n                        },\r\n                        {\r\n                            gridIndex: 2,\r\n                            type: 'category',\r\n                            inverse: true,\r\n                            position: 'left',\r\n                            axisLine: {\r\n                                show: true,\r\n                                lineStyle: {\r\n                                    color: lineColor\r\n                                }\r\n                            },\r\n                            axisTick: {\r\n                                show: false\r\n                            },\r\n                            axisLabel: {\r\n                                show: false\r\n                            },\r\n                            data: xData\r\n                        }\r\n                    ],\r\n                    series: []\r\n                },\r\n                options: []\r\n            };\r\n\r\n            option.baseOption.timeline.data.push(timeLineData[0]);\r\n            option.options.push({\r\n                series: [\r\n                    {\r\n                        name: '设备数',\r\n                        type: 'bar',\r\n                        barWidth: 25,\r\n                        stack: '1',\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [\r\n                                    {\r\n                                        offset: 0,\r\n                                        color: colors[0].start\r\n                                    },\r\n                                    {\r\n                                        offset: 1,\r\n                                        color: colors[0].end\r\n                                    }\r\n                                ])\r\n                            }\r\n                        },\r\n                        label: {\r\n                            normal: {\r\n                                show: false\r\n                            }\r\n                        },\r\n                        data: lastYearData,\r\n                        animationEasing: 'elasticOut'\r\n                    },\r\n                    {\r\n                        name: '设备数',\r\n                        type: 'bar',\r\n                        barWidth: 25,\r\n                        stack: '1',\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: colors[0].borderColor\r\n                            }\r\n                        },\r\n                        data: borderData\r\n                    },\r\n                    {\r\n                        name: '企业数',\r\n                        type: 'bar',\r\n                        stack: '2',\r\n                        barWidth: 25,\r\n                        xAxisIndex: 2,\r\n                        yAxisIndex: 2,\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [\r\n                                    {\r\n                                        offset: 0,\r\n                                        color: colors[1].start\r\n                                    },\r\n                                    {\r\n                                        offset: 1,\r\n                                        color: colors[1].end\r\n                                    }\r\n                                ])\r\n                            }\r\n                        },\r\n                        label: {\r\n                            normal: {\r\n                                show: false\r\n                            }\r\n                        },\r\n                        data: thisYearData,\r\n                        animationEasing: 'elasticOut'\r\n                    },\r\n                    {\r\n                        name: '企业数',\r\n                        type: 'bar',\r\n                        xAxisIndex: 2,\r\n                        yAxisIndex: 2,\r\n                        barWidth: 25,\r\n                        stack: '2',\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: colors[1].borderColor\r\n                            }\r\n                        },\r\n                        data: borderData\r\n                    }\r\n                ]\r\n            });\r\n\r\n            // 使用刚指定的配置项和数据显示图表。\r\n            myChart.setOption(option);\r\n        },\r\n\r\n        //刷新\r\n        Refresh() {\r\n            this.getEnterprise();\r\n        }\r\n\r\n        //导出excel表\r\n    }\r\n};\r\n",{"version":3,"sources":["IndustryAnalysis.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"IndustryAnalysis.vue","sourceRoot":"src/components/Analysis","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-lx-cascades\"></i> 分析中心\r\n                </el-breadcrumb-item>\r\n                <el-breadcrumb-item>行业分析</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <div class=\"container\">\r\n            <el-row :gutter=\"20\" class=\"mgb20\">\r\n                <!-- <el-col :span=\"6\">\r\n                    <div class=\"block\">\r\n                        <span class=\"demonstration\"></span>\r\n                        <el-date-picker\r\n                            v-model=\"datepick\"\r\n                            type=\"daterange\"\r\n                            align=\"right\"\r\n                            unlink-panels\r\n                            range-separator=\"-\"\r\n                            start-placeholder=\"开始日期\"\r\n                            end-placeholder=\"结束日期\"\r\n                            :picker-options=\"pickerOptions\"\r\n                        ></el-date-picker>\r\n                    </div>\r\n                </el-col>-->\r\n                <el-col :span=\"6\">\r\n                    <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"Refresh\">刷新</el-button>\r\n                    <el-button type=\"primary\" icon=\"el-icon-download\" @click=\"Download\">导出报表</el-button>\r\n                </el-col>\r\n            </el-row>\r\n            <!-- </div>\r\n\r\n            <div class=\"container\">-->\r\n            <el-row :gutter=\"20\" class=\"mgb20\">\r\n                <el-col :span=\"6\" v-for=\"(industry,index) in industryTop\" :key=\"index\">\r\n                    <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\" v-if=\"index<4\">\r\n                        <div class=\"grid-content grid-con\">\r\n                            <i\r\n                                class=\"grid-con-icon\"\r\n                                :class=\"backgroundstyle[index]\"\r\n                            >{{industry.sort}}</i>\r\n                            <div class=\"grid-cont-right\">\r\n                                <el-row>\r\n                                    <div\r\n                                        class=\"card-title\"\r\n                                        :class=\"style[index]\"\r\n                                    >{{industry.industryname}}</div>\r\n                                </el-row>\r\n                                <el-row :gutter=\"24\">\r\n                                    <el-col :span=\"12\">\r\n                                        <div\r\n                                            :class=\"style[index]\"\r\n                                            class=\"grid-num\"\r\n                                        >{{industry.enterpriseNum}}</div>\r\n                                        <div>企业数</div>\r\n                                    </el-col>\r\n                                    <el-col :span=\"12\">\r\n                                        <div\r\n                                            :class=\"style[index]\"\r\n                                            class=\"grid-num\"\r\n                                        >{{industry.deviceNum}}</div>\r\n                                        <div>设备数</div>\r\n                                    </el-col>\r\n                                </el-row>\r\n                            </div>\r\n                        </div>\r\n                    </el-card>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n        <div class=\"container\" style=\"margin-top:10px\">\r\n            <el-row :gutter=\"20\" class=\"mgb20\">\r\n                <el-col :span=\"12\">\r\n                    <!-- <div id=\"byEnterprise\" style=\"height: 460px; width: 100%;\"></div> -->\r\n                    <el-table :data=\"industryTop\" height=\"480px\" border style=\"width: 100%\">\r\n                        <el-table-column prop=\"sort\" label=\"序号\" width=\"180\" align=\"center\"></el-table-column>\r\n                        <el-table-column\r\n                            prop=\"industryname\"\r\n                            label=\"行业名称\"\r\n                            width=\"180\"\r\n                            align=\"center\"\r\n                        ></el-table-column>\r\n                        <el-table-column prop=\"enterpriseNum\" label=\"企业数\" align=\"center\"></el-table-column>\r\n                        <el-table-column prop=\"deviceNum\" label=\"设备数\" align=\"center\"></el-table-column>\r\n                    </el-table>\r\n                </el-col>\r\n\r\n                <el-col :span=\"12\">\r\n                    <div id=\"byDevice\" style=\"height: 480px; width: 100%;\"></div>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nlet echarts = require('echarts/lib/echarts');\r\nexport default {\r\n    name: 'IndustryAnalysis',\r\n    data() {\r\n        return {\r\n            datepick: '',\r\n            // pickerOptions: {\r\n            //     shortcuts: [\r\n            //         {\r\n            //             text: '最近一周',\r\n            //             onClick(picker) {\r\n            //                 const end = new Date();\r\n            //                 const start = new Date();\r\n            //                 start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n            //                 picker.$emit('pick', [start, end]);\r\n            //             }\r\n            //         },\r\n            //         {\r\n            //             text: '最近一个月',\r\n            //             onClick(picker) {\r\n            //                 const end = new Date();\r\n            //                 const start = new Date();\r\n            //                 start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n            //                 picker.$emit('pick', [start, end]);\r\n            //             }\r\n            //         },\r\n            //         {\r\n            //             text: '最近三个月',\r\n            //             onClick(picker) {\r\n            //                 const end = new Date();\r\n            //                 const start = new Date();\r\n            //                 start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n            //                 picker.$emit('pick', [start, end]);\r\n            //             }\r\n            //         }\r\n            //     ]\r\n            // },\r\n\r\n            industryTop: [],\r\n            // {\r\n            //     industryname: '干燥行业',\r\n            //     enterpriseNum: 20,\r\n            //     deviceNum: 200,\r\n            //     sort: 1\r\n            // },\r\n            // {\r\n            //     industryname: '液压行业',\r\n            //     enterpriseNum: 17,\r\n            //     deviceNum: 150,\r\n            //     sort: 2\r\n            // },\r\n            // {\r\n            //     industryname: '钢铁行业',\r\n            //     enterpriseNum: 10,\r\n            //     deviceNum: 80,\r\n            //     sort: 3\r\n            // },\r\n            // {\r\n            //     industryname: '电子行业',\r\n            //     enterpriseNum: 26,\r\n            //     deviceNum: 30,\r\n            //     sort: 4\r\n            // },\r\n            // {\r\n            //     industryname: '纺织行业',\r\n            //     enterpriseNum: 8,\r\n            //     deviceNum: 40,\r\n            //     sort: 5\r\n            // },\r\n            // {\r\n            //     industryname: '钣金行业',\r\n            //     enterpriseNum: 5,\r\n            //     deviceNum: 20,\r\n            //     sort: 6\r\n            // },\r\n            // {\r\n            //     industryname: '实施行业',\r\n            //     enterpriseNum: 8,\r\n            //     deviceNum: 40,\r\n            //     sort: 7\r\n            // },\r\n            // {\r\n            //     industryname: '看了行业',\r\n            //     enterpriseNum: 5,\r\n            //     deviceNum: 20,\r\n            //     sort: 8\r\n            // }\r\n            // ],\r\n            style: ['s1', 's2', 's3', 's4'],\r\n            backgroundstyle: ['b1', 'b2', 'b3', 'b4'],\r\n            industrylist: [],\r\n            devicenumlist: [],\r\n            enterprisenumlist: []\r\n        };\r\n    },\r\n    created() {\r\n        this.getEnterprise();\r\n    },\r\n\r\n    mounted() {\r\n        this.getChart2();\r\n    },\r\n    methods: {\r\n        //获取企业行业数据\r\n        getEnterprise() {\r\n            this.$axios\r\n                .get('EnterprisesByIndustry')\r\n                .then(res => {\r\n                    if (res) {\r\n                        this.industryTop = res.data;\r\n                        console.log(this.industryTop);\r\n                    }\r\n                })\r\n                .then(() => {\r\n                    this.getdata();\r\n                    this.getChart2();\r\n                })\r\n\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n        },\r\n\r\n        //获取数据\r\n        getdata() {\r\n            this.industrylist = [];\r\n            this.devicenumlist = [];\r\n            this.enterprisenumlist = [];\r\n            for (let i = 0; i < this.industryTop.length; i++) {\r\n                // console.log(1);\r\n                let item = this.industryTop[i];\r\n                this.industrylist.push(item.industryname);\r\n                this.devicenumlist.push(item.deviceNum);\r\n                this.enterprisenumlist.push(item.enterpriseNum);\r\n            }\r\n            // console.log(this.industrylist)\r\n            //  console.log(this.devicenumlist)\r\n            //   console.log(this.enterprisenumlist)\r\n        },\r\n\r\n        //获取图表2\r\n        getChart2() {\r\n            // console.log(document.getElementById('byDevice'));\r\n            let myChart = this.$echarts.init(document.getElementById('byDevice'));\r\n            // 指定图表的配置项和数据\r\n            var xData = this.industrylist;\r\n            // var lineData = [100, 100, 100, 100, 100, 100, 100]\r\n            var lastYearData = this.devicenumlist;\r\n            var thisYearData = this.enterprisenumlist;\r\n            var timeLineData = [1];\r\n            let legend = ['设备数', '企业数'];\r\n            var background = '#fff'; //背景\r\n            let textColor = '#000';\r\n            let lineColor = 'rgba(255,255,255,0.2)';\r\n            let colors = [\r\n                {\r\n                    borderColor: 'rgba(227,161,96,1)',\r\n                    start: 'rgba(227,161,96,0.8)',\r\n                    end: 'rgba(227,161,96,0.3)'\r\n                },\r\n                {\r\n                    borderColor: 'rgba(0,222,255,1)',\r\n                    start: 'rgba(0,222,255,0.3)',\r\n                    end: 'rgba(0,222,255,0.8)'\r\n                }\r\n            ];\r\n            let borderData = [];\r\n            let scale = 2;\r\n            borderData = xData.map(item => {\r\n                return scale;\r\n            });\r\n            var option = {\r\n                baseOption: {\r\n                    title: {\r\n                        show: true,\r\n                        text: '设备数量企业数量行业分布图',\r\n                        left: 'left'\r\n                    },\r\n                    backgroundColor: background,\r\n                    timeline: {\r\n                        show: false,\r\n                        top: 0,\r\n                        data: []\r\n                    },\r\n                    toolbox: {\r\n                        show: true,\r\n                        feature: {\r\n                            saveAsImage: {}\r\n                        }\r\n                    },\r\n                    legend: {\r\n                        top: '5%',\r\n                        right: '5%',\r\n                        itemWidth: 20,\r\n                        itemHeight: 8,\r\n                        // itemGap: 343,\r\n                        icon: 'horizontal',\r\n                        textStyle: {\r\n                            color: '#000',\r\n                            fontSize: 16\r\n                        },\r\n                        data: legend\r\n                    },\r\n                    grid: [\r\n                        {\r\n                            show: false,\r\n                            left: '5%',\r\n                            top: '15%',\r\n                            bottom: '8%',\r\n                            containLabel: true,\r\n                            width: '37%'\r\n                        },\r\n                        {\r\n                            show: false,\r\n                            left: '51%',\r\n                            top: '15%',\r\n                            bottom: '8%',\r\n                            //    containLabel: true,\r\n                            width: '0%'\r\n                        },\r\n                        {\r\n                            show: false,\r\n                            right: '2%',\r\n                            top: '15%',\r\n                            bottom: '8%',\r\n                            containLabel: true,\r\n                            width: '37%'\r\n                        }\r\n                    ],\r\n                    xAxis: [\r\n                        {\r\n                            type: 'value',\r\n                            inverse: true,\r\n                            axisLine: {\r\n                                show: false\r\n                            },\r\n                            // label: {\r\n                            //     show: true\r\n                            // },\r\n                            axisTick: {\r\n                                show: false\r\n                            },\r\n                            position: 'top',\r\n                            axisLabel: {\r\n                                show: true,\r\n                                color: textColor\r\n                            },\r\n                            splitLine: {\r\n                                show: true,\r\n                                lineStyle: {\r\n                                    color: lineColor\r\n                                }\r\n                            }\r\n                        },\r\n                        {\r\n                            gridIndex: 1,\r\n                            show: false\r\n                        },\r\n                        {\r\n                            gridIndex: 2,\r\n                            axisLine: {\r\n                                show: false\r\n                            },\r\n                            axisTick: {\r\n                                show: false\r\n                            },\r\n                            position: 'top',\r\n                            axisLabel: {\r\n                                show: true,\r\n                                color: textColor\r\n                            },\r\n                            splitLine: {\r\n                                show: true,\r\n                                lineStyle: {\r\n                                    color: lineColor\r\n                                }\r\n                            }\r\n                        }\r\n                    ],\r\n                    yAxis: [\r\n                        {\r\n                            type: 'category',\r\n                            inverse: true,\r\n                            position: 'right',\r\n                            axisLine: {\r\n                                show: true,\r\n                                lineStyle: {\r\n                                    color: lineColor\r\n                                }\r\n                            },\r\n\r\n                            axisTick: {\r\n                                show: false\r\n                            },\r\n                            axisLabel: {\r\n                                show: false\r\n                            },\r\n                            data: xData\r\n                        },\r\n                        {\r\n                            gridIndex: 1,\r\n                            type: 'category',\r\n                            inverse: true,\r\n                            position: 'left',\r\n                            axisLine: {\r\n                                show: false\r\n                            },\r\n                            axisTick: {\r\n                                show: false\r\n                            },\r\n                            axisLabel: {\r\n                                show: true,\r\n                                padding: [30, 0, 0, 0],\r\n                                textStyle: {\r\n                                    color: '#000',\r\n                                    fontSize: 14\r\n                                },\r\n                                align: 'center'\r\n                            },\r\n                            data: xData.map(function(value) {\r\n                                return {\r\n                                    value: value,\r\n                                    textStyle: {\r\n                                        align: 'center'\r\n                                    }\r\n                                };\r\n                            })\r\n                        },\r\n                        {\r\n                            gridIndex: 2,\r\n                            type: 'category',\r\n                            inverse: true,\r\n                            position: 'left',\r\n                            axisLine: {\r\n                                show: true,\r\n                                lineStyle: {\r\n                                    color: lineColor\r\n                                }\r\n                            },\r\n                            axisTick: {\r\n                                show: false\r\n                            },\r\n                            axisLabel: {\r\n                                show: false\r\n                            },\r\n                            data: xData\r\n                        }\r\n                    ],\r\n                    series: []\r\n                },\r\n                options: []\r\n            };\r\n\r\n            option.baseOption.timeline.data.push(timeLineData[0]);\r\n            option.options.push({\r\n                series: [\r\n                    {\r\n                        name: '设备数',\r\n                        type: 'bar',\r\n                        barWidth: 25,\r\n                        stack: '1',\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [\r\n                                    {\r\n                                        offset: 0,\r\n                                        color: colors[0].start\r\n                                    },\r\n                                    {\r\n                                        offset: 1,\r\n                                        color: colors[0].end\r\n                                    }\r\n                                ])\r\n                            }\r\n                        },\r\n                        label: {\r\n                            normal: {\r\n                                show: false\r\n                            }\r\n                        },\r\n                        data: lastYearData,\r\n                        animationEasing: 'elasticOut'\r\n                    },\r\n                    {\r\n                        name: '设备数',\r\n                        type: 'bar',\r\n                        barWidth: 25,\r\n                        stack: '1',\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: colors[0].borderColor\r\n                            }\r\n                        },\r\n                        data: borderData\r\n                    },\r\n                    {\r\n                        name: '企业数',\r\n                        type: 'bar',\r\n                        stack: '2',\r\n                        barWidth: 25,\r\n                        xAxisIndex: 2,\r\n                        yAxisIndex: 2,\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [\r\n                                    {\r\n                                        offset: 0,\r\n                                        color: colors[1].start\r\n                                    },\r\n                                    {\r\n                                        offset: 1,\r\n                                        color: colors[1].end\r\n                                    }\r\n                                ])\r\n                            }\r\n                        },\r\n                        label: {\r\n                            normal: {\r\n                                show: false\r\n                            }\r\n                        },\r\n                        data: thisYearData,\r\n                        animationEasing: 'elasticOut'\r\n                    },\r\n                    {\r\n                        name: '企业数',\r\n                        type: 'bar',\r\n                        xAxisIndex: 2,\r\n                        yAxisIndex: 2,\r\n                        barWidth: 25,\r\n                        stack: '2',\r\n                        itemStyle: {\r\n                            normal: {\r\n                                color: colors[1].borderColor\r\n                            }\r\n                        },\r\n                        data: borderData\r\n                    }\r\n                ]\r\n            });\r\n\r\n            // 使用刚指定的配置项和数据显示图表。\r\n            myChart.setOption(option);\r\n        },\r\n\r\n        //刷新\r\n        Refresh() {\r\n            this.getEnterprise();\r\n        }\r\n\r\n        //导出excel表\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.el-row {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.grid-content {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 120px;\r\n}\r\n\r\n.grid-cont-right {\r\n    flex: 1;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.grid-num {\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.grid-con-icon {\r\n    font-size: 50px;\r\n    width: 120px;\r\n    height: 120px;\r\n    text-align: center;\r\n    line-height: 120px;\r\n    color: #fff;\r\n}\r\n\r\n.card-title {\r\n    text-align: center;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    /* color: coral; */\r\n    letter-spacing: 0.5em;\r\n    line-height: 50px;\r\n}\r\n\r\n.s1 {\r\n    color: rgb(45, 140, 240);\r\n}\r\n\r\n.s2 {\r\n    color: coral;\r\n}\r\n\r\n.s3 {\r\n    color: darkturquoise;\r\n}\r\n\r\n.s4 {\r\n    color: red;\r\n}\r\n\r\n.b1 {\r\n    background-color: rgb(45, 140, 240);\r\n}\r\n\r\n.b2 {\r\n    background-color: coral;\r\n}\r\n\r\n.b3 {\r\n    background-color: darkturquoise;\r\n}\r\n\r\n.b4 {\r\n    background-color: red;\r\n}\r\n.container {\r\n    padding-top: 15px;\r\n    padding-bottom: 15px;\r\n}\r\n</style>"]}]}